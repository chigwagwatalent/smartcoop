<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head></head>
<body>
<th:block th:fragment="sidebar(active)">
  <aside style="position:sticky;top:64px;align-self:start;width:280px;background:#fff;border-right:1px solid var(--bd);min-height:calc(100dvh - 64px)">
    <nav style="padding:14px; display:grid; gap:16px">

      <!-- SECTION: Overview -->
      <div>
        <div style="font-weight:800;color:var(--muted);letter-spacing:.03em;margin-bottom:10px">Overview</div>
        <ul style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li>
            <a th:href="@{/dashboard}" th:classappend="${active}=='dashboard' ? ' active' : ''"
               style="display:flex;align-items:center;gap:10px;padding:12px;border-radius:12px;border:1px solid var(--bd);text-decoration:none;color:var(--ink)">
              <span>📊</span><span>Dashboard</span>
            </a>
          </li>
        </ul>
      </div>

      <!-- SECTION: Monitoring -->
      <div>
        <div style="font-weight:800;color:var(--muted);letter-spacing:.03em;margin:6px 0 10px">Monitoring</div>
        <ul style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li>
            <a th:href="@{/iot}" th:classappend="${active}=='iot' ? ' active' : ''"
               style="display:flex;align-items:center;gap:10px;padding:12px;border-radius:12px;border:1px solid var(--bd);text-decoration:none;color:var(--ink)">
              <span>🌡️</span><span>Coop Readings</span>
            </a>
          </li>
          <li>
            <a th:href="@{/coop-feed}" th:classappend="${active}=='camera' ? ' active' : ''"
               style="display:flex;align-items:center;gap:10px;padding:12px;border-radius:12px;border:1px solid var(--bd);text-decoration:none;color:var(--ink)">
              <span>🎥</span><span>Camera</span>
            </a>
          </li>
        </ul>
      </div>

      <!-- SECTION: Operations -->
      <div>
        <div style="font-weight:800;color:var(--muted);letter-spacing:.03em;margin:6px 0 10px">Operations</div>
        <ul style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li>
            <a th:href="@{/stock}" th:classappend="${active}=='stock' ? ' active' : ''"
               style="display:flex;align-items:center;gap:10px;padding:12px;border-radius:12px;border:1px solid var(--bd);text-decoration:none;color:var(--ink)">
              <span>🐥</span><span>Chicken Records</span>
            </a>
          </li>
          <li>
            <a th:href="@{/actuators}" th:classappend="${active}=='actuators' ? ' active' : ''"
               style="display:flex;align-items:center;gap:10px;padding:12px;border-radius:12px;border:1px solid var(--bd);text-decoration:none;color:var(--ink)">
              <span>🛠️</span><span>Actuators</span>
            </a>
          </li>
        </ul>
      </div>

      <!-- SECTION: Administration -->
      <div>
        <div style="font-weight:800;color:var(--muted);letter-spacing:.03em;margin:6px 0 10px">Administration</div>
        <ul style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li>
            <a th:href="@{/users}" th:classappend="${active}=='users' ? ' active' : ''"
               style="display:flex;align-items:center;gap:10px;padding:12px;border-radius:12px;border:1px solid var(--bd);text-decoration:none;color:var(--ink)">
              <span>👤</span><span>Users</span>
            </a>
          </li>
        </ul>
      </div>

    </nav>
  </aside>

  <!-- small helper style so “active” looks crisp without touching your global CSS -->
  <style>
    aside a.active{
      border-color: var(--brand,#028d18);
      box-shadow: 0 6px 16px rgba(2,141,24,.10);
      background: linear-gradient(0deg, rgba(76,195,106,.08), rgba(76,195,106,.08)), #fff;
    }
    @media (hover:hover){
      aside a:hover{ background:#f7fbf8 }
    }
  </style>
</th:block>
</body>
</html>
